<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Color Dice Game</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      * {
        font-family: 'Rajdhani', monospace;
      }

      body {
        background: #0a0a0a;
        color: #00ffff;
        overflow-x: hidden;
        cursor: url('data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3L10.07 19.97L12.58 12.58L19.97 10.07L3 3Z" fill="%2300ffff" stroke="white" stroke-width="1.5" stroke-linejoin="round"/></svg>') 2 2, auto;
      }

      button, a, .cursor-pointer, input, select {
        cursor: url('data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3L10.07 19.97L12.58 12.58L19.97 10.07L3 3Z" fill="%2300ffff" stroke="white" stroke-width="1.5" stroke-linejoin="round"/></svg>') 2 2, pointer;
      }

      /* Scanlines */
      .scanlines {
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.15) 50%, rgba(0,0,0,0.15));
        background-size: 100% 2px;
        pointer-events: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 999;
      }

      /* 3D Dice with Gradient */
      .scene { 
        perspective: 1200px; 
        display: flex; 
        justify-content: center; 
        align-items: center; 
      }

      .cube { 
        width: 100%; 
        height: 100%; 
        position: relative; 
        transform-style: preserve-3d; 
        transition: transform 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        filter: drop-shadow(0 0 30px rgba(0, 255, 255, 0.6));
      }
      
      .cube__face {
        position: absolute; 
        width: 100%; 
        height: 100%;
        border: 3px solid #00ffff;
        border-radius: 12px;
        display: flex; 
        justify-content: center; 
        align-items: center;
        font-family: 'Orbitron', cursive; 
        font-size: 3rem;
        font-weight: 900;
        color: white; 
        text-shadow: 0 0 15px rgba(0, 0, 0, 0.9);
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 25px rgba(0, 255, 255, 0.4);
        backface-visibility: hidden;
      }
      
      .cube__face--red    { 
        background: linear-gradient(135deg, #cc1111, #881111); 
        transform: rotateY(0deg) translateZ(var(--translate-z)); 
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 30px rgba(200, 50, 50, 0.6);
      }
      .cube__face--blue   { 
        background: linear-gradient(135deg, #1166dd, #0044aa); 
        transform: rotateY(90deg) translateZ(var(--translate-z)); 
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 30px rgba(100, 150, 255, 0.6);
      }
      .cube__face--yellow { 
        background: linear-gradient(135deg, #ccaa00, #998800); 
        transform: rotateY(180deg) translateZ(var(--translate-z)); 
        color: #222;
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 30px rgba(200, 180, 50, 0.6);
      }
      .cube__face--green  { 
        background: linear-gradient(135deg, #11aa44, #008833); 
        transform: rotateY(-90deg) translateZ(var(--translate-z)); 
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 30px rgba(100, 200, 100, 0.6);
      }
      .cube__face--white  { 
        background: linear-gradient(135deg, #dddddd, #aaaaaa); 
        transform: rotateX(90deg) translateZ(var(--translate-z)); 
        color: #222; 
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 30px rgba(200, 200, 200, 0.6);
      }
      .cube__face--pink   { 
        background: linear-gradient(135deg, #dd1188, #aa0055); 
        transform: rotateX(-90deg) translateZ(var(--translate-z)); 
        box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 0 0 30px rgba(200, 80, 150, 0.6);
      }

      /* Dice pips */
      .pips {
        width: 70%;
        height: 70%;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        gap: 0.25rem;
        align-items: center;
        justify-items: center;
      }

      .pip {
        width: 100%;
        height: 100%;
        display:flex;
        align-items:center;
        justify-content:center;
      }

      .pip::before {
        content: '';
        width: 0.6rem;
        height: 0.6rem;
        border-radius: 50%;
        background: rgba(255,255,255,0.95);
        box-shadow: 0 0 8px rgba(255,255,255,0.12);
        display: block;
        opacity: 0;
        transition: opacity 0.12s ease-in-out, transform 0.12s ease-in-out;
        transform: scale(0.9);
      }

      .pip.active::before { opacity: 1; transform: scale(1); }

      /* Dark pips for light faces */
      .cube__face--white .pip::before { background: #222; box-shadow: 0 0 6px rgba(0,0,0,0.6); }


      @keyframes tumble {
        0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
        25% { transform: rotateX(180deg) rotateY(90deg) rotateZ(45deg); }
        50% { transform: rotateX(360deg) rotateY(180deg) rotateZ(90deg); }
        75% { transform: rotateX(540deg) rotateY(270deg) rotateZ(135deg); }
        100% { transform: rotateX(720deg) rotateY(360deg) rotateZ(180deg); }
      }
      .is-spinning { animation: tumble 0.6s linear infinite; }

      /* Neon Glows */
      .neon-glow {
        text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 30px #00ffff;
        color: #00ffff;
      }

      .title-main {
        font-family: 'Orbitron', cursive;
        font-weight: 900;
        letter-spacing: 8px;
        font-size: clamp(2.5rem, 12vw, 6rem);
        text-transform: uppercase;
        color: #ffffff;
        text-shadow: 3px 3px 0 #00ffff, 6px 6px 0 rgba(0, 255, 255, 0.4);
        transform: skewY(-2deg);
      }

      .title-cyber {
        font-family: 'Orbitron', cursive;
        font-weight: 700;
        letter-spacing: 3px;
        font-size: clamp(1.5rem, 8vw, 3rem);
        text-transform: uppercase;
        color: #00ffff;
        text-shadow: 0 0 10px #00ffff;
      }

      /* Panel with Border */
      .panel-border {
        border: 2px solid #00ffff;
        border-radius: 0;
        background: rgba(0, 20, 40, 0.8);
        position: relative;
      }

      .panel-border::before {
        content: '';
        position: absolute;
        top: -8px;
        left: -8px;
        right: -8px;
        bottom: -8px;
        border: 2px solid #00ffff;
        pointer-events: none;
        opacity: 0.3;
        border-radius: 0;
      }

      /* Glass Panel */
      .glass-panel {
        background: rgba(0, 20, 40, 0.8);
        backdrop-filter: blur(10px);
        border: 2px solid #00ffff;
        box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.1), 0 0 20px rgba(0, 255, 255, 0.2);
        border-radius: 0;
      }

      /* Cyber Buttons */
      .btn-cyber {
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid #00ffff;
        color: #00ffff;
        font-family: 'Orbitron', cursive;
        font-weight: 700;
        font-size: 0.9rem;
        letter-spacing: 2px;
        padding: 10px 24px;
        border-radius: 0;
        cursor: pointer;
        transition: all 0.2s;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
      }

      .btn-cyber::before {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        border: 1px solid rgba(0, 255, 255, 0.2);
        pointer-events: none;
      }

      .btn-cyber:hover:not(:disabled) {
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.8), inset 0 0 15px rgba(0, 255, 255, 0.2);
        background: rgba(0, 50, 100, 0.5);
        transform: scale(1.02);
      }

      .btn-cyber:active:not(:disabled) {
        transform: scale(0.98);
        box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.5);
      }

      .btn-cyber:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      /* Input Neon */
      .input-cyber {
        background: rgba(0, 20, 50, 0.8);
        border: 2px solid #00ffff;
        color: #00ffff;
        font-family: 'Rajdhani', monospace;
        font-size: 0.95rem;
        padding: 10px 12px;
        border-radius: 0;
        transition: all 0.2s;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .input-cyber:focus {
        outline: none;
        border-color: #00ffff;
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.5), inset 0 0 10px rgba(0, 255, 255, 0.1);
        background: rgba(0, 40, 80, 0.9);
      }

      .input-cyber::placeholder {
        color: rgba(0, 255, 255, 0.3);
        text-transform: uppercase;
      }

      /* Animations */
      @keyframes flicker {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
      }
      .flicker { animation: flicker 0.15s infinite; }

      @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.4; }
      }
      .blink { animation: blink 0.8s infinite; }

      @keyframes pulse-glow {
        0%, 100% { filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.4)); }
        50% { filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.8)); }
      }
      .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

      @keyframes float-particle {
        0% { transform: translateY(0) rotateZ(0deg); opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { transform: translateY(-100px) rotateZ(360deg); opacity: 0; }
      }

      .particle {
        position: fixed;
        pointer-events: none;
        animation: float-particle 2s ease-out forwards;
      }

      /* Status Indicator */
      .status-ok {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #00ff00;
        box-shadow: 0 0 10px #00ff00;
        margin-right: 8px;
        animation: pulse 1.5s ease-in-out infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }

      /* Color Swatch Style */
      .color-swatch {
        border: 3px solid rgba(0, 255, 255, 0.2);
        transition: all 0.2s;
        border-radius: 0;
      }

      .color-swatch:hover {
        border-color: #00ffff;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
        transform: scale(1.08);
      }

      .color-swatch.selected {
        border-color: #00ffff;
        box-shadow: 0 0 25px rgba(0, 255, 255, 1), inset 0 0 15px rgba(0, 255, 255, 0.4);
        transform: scale(1.15);
      }

      /* Message Styling */
      .msg-success {
        background: rgba(0, 100, 50, 0.3);
        border: 2px solid #00ff66;
        color: #00ff66;
        text-shadow: 0 0 10px #00ff66;
        border-radius: 0;
      }

      .msg-error {
        background: rgba(150, 20, 20, 0.3);
        border: 2px solid #ff5555;
        color: #ff5555;
        text-shadow: 0 0 10px #ff5555;
        border-radius: 0;
      }

      .msg-info {
        background: rgba(0, 50, 100, 0.3);
        border: 2px solid #00ffff;
        color: #00ffff;
        text-shadow: 0 0 10px #00ffff;
        border-radius: 0;
      }

      /* Subtitle Style */
      .subtitle {
        font-size: 0.8rem;
        letter-spacing: 3px;
        color: #00ffff;
        text-transform: uppercase;
        margin-bottom: 8px;
      }

      .subtitle-auth {
        font-size: 0.7rem;
        letter-spacing: 2px;
        color: #00ffff;
        text-transform: uppercase;
        margin: 16px 0;
        padding: 8px 0;
        border-top: 1px solid rgba(0, 255, 255, 0.3);
        border-bottom: 1px solid rgba(0, 255, 255, 0.3);
      }
    </style>
</head>
<body>
    <div id="root"></div>
    <div class="scanlines"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Language Strings
        const STRINGS = {
            en: {
                title: 'DICE GAME',
                selectLanguage: 'Select Language',
                english: 'English',
                chinese: '中文',
                play: 'PLAY GAME',
                playerName: 'Enter Your Name',
                start: 'START GAME',
                cancel: 'CANCEL',
                trial: 'Trial',
                selectColor: 'Select a Color',
                roll: 'ROLL DICE',
                correct: '✓ CORRECT! YOU WON!',
                incorrect: '✗ WRONG COLOR!',
                next: 'Next Trial',
                gameOver: 'GAME OVER',
                finalScore: 'FINAL SCORE',
                wins: 'Wins',
                playAgain: 'Play Again',
                logout: 'Main Menu',
                outOf: 'of 3'
            },
            zh: {
                title: '色子遊戲',
                selectLanguage: '選擇語言',
                english: 'English',
                chinese: '中文',
                play: '玩遊戲',
                playerName: '輸入你的名字',
                start: '開始遊戲',
                cancel: '取消',
                trial: '試試',
                selectColor: '選擇一個顏色',
                roll: '擲骰子',
                correct: '✓ 正確！你贏了！',
                incorrect: '✗ 錯誤的顏色！',
                next: '下一個試試',
                gameOver: '遊戲結束',
                finalScore: '最終分數',
                wins: '勝',
                playAgain: '再玩一次',
                logout: '主菜單',
                outOf: '共 3 個'
            }
        };

        const COLORS = ['red', 'blue', 'green', 'yellow', 'white', 'pink'];
        
        const COLOR_TAILWIND = {
            red: 'bg-red-600',
            blue: 'bg-blue-600',
            green: 'bg-green-600',
            yellow: 'bg-yellow-500',
            white: 'bg-gray-300',
            pink: 'bg-pink-600'
        };

        const COLOR_NAMES = {
            en: { red: 'Red', blue: 'Blue', green: 'Green', yellow: 'Yellow', white: 'White', pink: 'Pink' },
            zh: { red: '紅', blue: '藍', green: '綠', yellow: '黃', white: '白', pink: '粉紅' }
        };

        // Particle Effect
        const createParticle = (x, y) => {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.innerHTML = '◆';
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.color = '#00ffff';
            particle.style.fontSize = '14px';
            particle.style.animation = `float-particle ${1 + Math.random()}s ease-out forwards`;
            document.body.appendChild(particle);
            setTimeout(() => particle.remove(), 2000);
        };

        // Die Component
      const Die = ({ color, isRolling }) => {
        const getTransform = (c) => {
          const transforms = {
            red: 'rotateY(0deg)',
            blue: 'rotateY(90deg)',
            green: 'rotateY(-90deg)',
            yellow: 'rotateY(180deg)',
            white: 'rotateX(-90deg)',
            pink: 'rotateX(90deg)',
          };
          return transforms[c] || 'rotateY(0deg)';
        };

        const Face = ({ cls, pattern }) => (
          <div className={`cube__face ${cls}`}>
            <div className="pips">
              {pattern.map((on, i) => (
                <span key={i} className={`pip ${on ? 'active' : ''}`} />
              ))}
            </div>
          </div>
        );

        // Patterns: 3x3 grid (left-to-right, top-to-bottom)
        const patterns = {
          // 1: center
          one: [0,0,0,0,1,0,0,0,0],
          // 2: top-left and bottom-right
          two: [1,0,0,0,0,0,0,0,1],
          // 3: like two + center
          three: [1,0,0,0,1,0,0,0,1],
          // 4: corners
          four: [1,0,1,0,0,0,1,0,1],
          // 5: four corners + center
          five: [1,0,1,0,1,0,1,0,1],
          // 6: left and right columns
          six: [1,0,1,1,0,1,1,0,1]
        };

        return (
          <div className="scene w-28 h-28 sm:w-40 sm:h-40">
            <div className={`cube ${isRolling ? 'is-spinning' : ''}`} style={{ transform: isRolling ? undefined : getTransform(color), '--translate-z': '3.5rem' }}>
              <Face cls="cube__face--red" pattern={patterns.one} />
              <Face cls="cube__face--blue" pattern={patterns.two} />
              <Face cls="cube__face--green" pattern={patterns.three} />
              <Face cls="cube__face--yellow" pattern={patterns.four} />
              <Face cls="cube__face--white" pattern={patterns.five} />
              <Face cls="cube__face--pink" pattern={patterns.six} />
            </div>
            <style>{`@media (max-width: 640px) { .cube { --translate-z: 2rem; } }`}</style>
          </div>
        );
      };

        // Main App
        const App = () => {
            const [language, setLanguage] = useState(null);
            const [playerName, setPlayerName] = useState('');
            const [gameState, setGameState] = useState('splash');
            const [trialCount, setTrialCount] = useState(0);
            const [wins, setWins] = useState(0);
            const [selectedColor, setSelectedColor] = useState(null);
            const [diceResult, setDiceResult] = useState('red');
            const [isRolling, setIsRolling] = useState(false);
            const [message, setMessage] = useState('');
            const [lastResult, setLastResult] = useState(null);

            const t = (key) => STRINGS[language]?.[key] || key;

            const startGame = () => {
                if (!playerName.trim()) return;
                setGameState('playing');
                setTrialCount(1);
                setWins(0);
                setSelectedColor(null);
                setMessage(t('selectColor'));
                setLastResult(null);
            };

            const handleRoll = () => {
                if (!selectedColor || isRolling) return;
                setIsRolling(true);
                setMessage('');
                
                setTimeout(() => {
                    const randomColor = COLORS[Math.floor(Math.random() * COLORS.length)];
                    setDiceResult(randomColor);
                    setIsRolling(false);

                    if (randomColor === selectedColor) {
                        setWins(wins + 1);
                        setLastResult('win');
                        setMessage(t('correct'));
                        createParticle(window.innerWidth / 2, window.innerHeight / 2);
                    } else {
                        setLastResult('lose');
                        setMessage(t('incorrect'));
                    }
                }, 2500);
            };

            const nextTrial = () => {
                if (trialCount < 3) {
                    setTrialCount(trialCount + 1);
                    setSelectedColor(null);
                    setMessage(t('selectColor'));
                    setLastResult(null);
                } else {
                    setGameState('gameover');
                }
            };

            const playAgain = () => {
                setGameState('setup');
                setPlayerName('');
                setTrialCount(0);
                setWins(0);
                setSelectedColor(null);
                setLastResult(null);
            };

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-4">
                    {/* Splash Screen */}
                    {gameState === 'splash' && (
                        <div className="text-center w-full max-w-4xl">
                            <h1 className="title-main mb-12">DICE GAME</h1>
                            <div className="glass-panel p-12 mb-8">
                                <p className="subtitle-auth">DIGITAL CASINO PROTOCOL</p>
                                <p className="text-sm text-cyan-300 mb-8">奎妲兒 / dharls</p>
                                <button
                                  onClick={() => setGameState('language')}
                                  className="btn-cyber px-12 py-3 w-full text-lg"
                                >
                                  LOGIN
                                </button>
                                <p className="text-xs text-cyan-300 mt-6 opacity-60">AUTHENTICATION REQUIRED</p>
                            </div>
                        </div>
                    )}

                    {/* Language Selection */}
                    {gameState === 'language' && (
                        <div className="w-full max-w-2xl">
                            <div className="glass-panel p-12 text-center">
                                <h2 className="title-cyber mb-8">SELECT LANGUAGE</h2>
                                <div className="flex gap-4 flex-col sm:flex-row">
                                    <button
                                      onClick={() => { setLanguage('en'); setGameState('setup'); }}
                                      className="btn-cyber flex-1"
                                    >
                                      {STRINGS.en.english}
                                    </button>
                                    <button
                                      onClick={() => { setLanguage('zh'); setGameState('setup'); }}
                                      className="btn-cyber flex-1"
                                    >
                                      {STRINGS.zh.chinese}
                                    </button>
                                </div>
                                <p className="text-xs text-cyan-300 mt-6 opacity-60">SELECT ACCESS MODE</p>
                            </div>
                        </div>
                    )}

                    {/* Setup */}
                    {gameState === 'setup' && language && (
                        <div className="w-full max-w-2xl">
                            <div className="glass-panel p-12">
                                <h2 className="title-cyber mb-8 text-center">AUTHENTICATION REQUIRED</h2>
                                <form onSubmit={(e) => { e.preventDefault(); startGame(); }} className="space-y-6">
                                    <div>
                                        <label className="block text-cyan-400 text-xs font-bold mb-2 tracking-widest">&gt; ENTER USER ID</label>
                                        <input
                                            type="text"
                                            value={playerName}
                                            onChange={(e) => setPlayerName(e.target.value)}
                                            placeholder="ENTER USER ID"
                                            className="input-cyber w-full"
                                            maxLength={20}
                                            autoFocus
                                        />
                                    </div>
                                    <div className="flex gap-4">
                                        <button
                                            type="button"
                                            onClick={() => setGameState('language')}
                                            className="btn-cyber flex-1"
                                        >
                                            BACK
                                        </button>
                                        <button
                                            type="submit"
                                            disabled={!playerName.trim()}
                                            className="btn-cyber flex-1"
                                        >
                                            CONNECT SYSTEM
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {/* Game Playing */}
                    {gameState === 'playing' && language && (
                        <div className="w-full max-w-3xl">
                            <div className="glass-panel p-12">
                                {/* Header */}
                                <div className="grid grid-cols-2 gap-4 mb-8 pb-8 border-b border-cyan-400 border-opacity-30">
                                    <div>
                                        <div className="text-xs text-cyan-400 mb-1 tracking-widest">&gt; PLAYER</div>
                                        <div className="text-2xl font-bold text-white">{playerName}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-xs text-cyan-400 mb-1 tracking-widest">&gt; TRIAL</div>
                                        <div className="text-3xl font-bold text-cyan-300">{trialCount}/3</div>
                                    </div>
                                    <div>
                                        <div className="text-xs text-green-400 mb-1 tracking-widest">&gt; WINS</div>
                                        <div className="text-3xl font-bold text-green-400 neon-glow">{wins}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-xs text-cyan-400 mb-1 tracking-widest">&gt; STATUS</div>
                                        <div className={`text-sm font-bold ${isRolling ? 'text-yellow-400 flicker' : 'text-cyan-300'}`}>
                                            {isRolling ? 'ROLLING...' : 'READY'}
                                        </div>
                                    </div>
                                </div>

                                {/* Dice Display */}
                                <div className="flex justify-center my-12 p-8 glass-panel">
                                    <Die color={diceResult} isRolling={isRolling} />
                                </div>

                                {/* Message */}
                                {message && (
                                    <div className={`text-center font-bold text-lg mb-6 p-4 ${
                                        lastResult === 'win' ? 'msg-success' : 
                                        lastResult === 'lose' ? 'msg-error' : 
                                        'msg-info'
                                    }`}>
                                        {message}
                                    </div>
                                )}

                                {/* Color Selection */}
                                {!isRolling && lastResult === null && (
                                    <div className="mb-8">
                                        <div className="text-cyan-400 text-xs font-bold mb-4 tracking-widest">&gt; SELECT COLOR</div>
                                        <div className="grid grid-cols-3 sm:grid-cols-6 gap-3">
                                            {COLORS.map((color) => (
                                                <button
                                                    key={color}
                                                    onClick={() => setSelectedColor(color)}
                                                    className={`color-swatch aspect-square border-4 transition-all ${COLOR_TAILWIND[color]} ${selectedColor === color ? 'selected' : ''}`}
                                                    title={COLOR_NAMES[language][color]}
                                                >
                                                    <span className="text-xs font-bold text-white drop-shadow-lg hidden sm:inline">
                                                        {COLOR_NAMES[language][color].substring(0,1)}
                                                    </span>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* Roll Button */}
                                {!isRolling && lastResult === null && (
                                    <button
                                        onClick={handleRoll}
                                        disabled={!selectedColor}
                                        className="btn-cyber w-full text-lg py-3"
                                    >
                                        ROLL DICE
                                    </button>
                                )}

                                {/* Next Button */}
                                {lastResult !== null && (
                                    <button
                                        onClick={nextTrial}
                                        className="btn-cyber w-full text-lg py-3"
                                    >
                                        // {trialCount < 3 ? 'NEXT TRIAL' : 'GAME OVER'}
                                    </button>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Game Over */}
                    {gameState === 'gameover' && language && (
                        <div className="w-full max-w-2xl">
                            <div className="glass-panel p-12 text-center">
                                <h2 className="title-cyber mb-6">GAME OVER</h2>
                                <p className="text-xl text-cyan-300 mb-8">{playerName}</p>
                                <div className="glass-panel p-8 mb-8 bg-opacity-50">
                                    <div className="text-cyan-400 text-xs mb-2 tracking-widest">&gt; FINAL SCORE</div>
                                    <div className="text-6xl font-bold text-cyan-300">{wins}/3</div>
                                </div>
                                <div className="flex gap-4 flex-col sm:flex-row">
                                    <button
                                        onClick={playAgain}
                                        className="btn-cyber flex-1"
                                    >
                                        PLAY AGAIN
                                    </button>
                                    <button
                                        onClick={() => { setGameState('language'); setLanguage(null); }}
                                        className="btn-cyber flex-1"
                                    >
                                        // LOGOUT
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
